{"version":3,"file":"js/309.df972edd.js","mappings":"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","sources":["webpack://new-project/./src/views/background/Product.vue","webpack://new-project/./src/views/background/Product.vue?f69f"],"sourcesContent":["<template>\r\n  <div class=\"product mt-4\">\r\n    <Loading v-model:active=\"isLoading\"/>\r\n    <div class=\"text-end\">\r\n      <button type=\"button\" class=\"btn btn-dark btn-hover rounded-0\" @click=\"openModal(true)\">建立新產品</button>\r\n    </div>\r\n    <div class=\"table-responsive-lg mt-4\">\r\n      <table class=\"table table-striped lh-lg\">\r\n        <thead class=\"table-dark\">\r\n          <tr class=\"table-nowrap\">\r\n            <th width=\"200\" class=\"text-center\">分類</th>\r\n            <th class=\"text-center text-md-start\">產品名稱</th>\r\n            <th width=\"150\" class=\"text-end\">原價</th>\r\n            <th width=\"150\" class=\"text-end\">售價</th>\r\n            <th width=\"140\" class=\"text-center\">是否啟用</th>\r\n            <th width=\"200\" class=\"text-center\">編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr class=\"table-nowrap\" v-for=\"(item, key) in products\" :key=\"key\">\r\n            <td class=\"text-center\">{{ item.category }}</td>\r\n            <td class=\"text-center text-md-start\">{{ item.title }}</td>\r\n            <td class=\"text-end\">\r\n              NT$ {{ $filters.currency(item.origin_price) }} 元\r\n            </td>\r\n            <td class=\"text-end\">\r\n              NT$ {{ $filters.currency(item.price) }} 元\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <span v-if=\"item.is_enabled\" class=\"text-strong\">啟用</span>\r\n              <span v-else class=\"text-muted\">未啟用</span>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-dark btn-hover rounded-0 me-2\"\r\n                @click=\"openModal(false, item)\"\r\n              >\r\n                編輯\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-dark btn-hover rounded-0\"\r\n                @click=\"openDelModal(item)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- 分頁 -->\r\n      <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"/>\r\n    </div>\r\n\r\n\r\n\r\n    <!-- Modal -->\r\n    <!-- 新增、修改 -->\r\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"productModal\">\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n\r\n\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>新增產品</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                \r\n                <div class=\"form-group\">\r\n                  <label for=\"image\">輸入圖片網址</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                    placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n                </div>\r\n\r\n                <div class=\"form-group mt-3 mb-3\">\r\n                  <label for=\"customFile\">或 上傳圖片\r\n                    <i class=\"fas fa-spinner fa-spin\" v-if=\"status.fileUploading\"></i>\r\n                  </label>\r\n                  <input type=\"file\" id=\"customFile\" class=\"form-control\"\r\n                    ref=\"file\" @change=\"uploadFile\">\r\n                </div>\r\n                <img class=\"img-fluid\" alt=\"商品照片\" :src=\"tempProduct.imageUrl\" v-if=\"tempProduct.imageUrl\">\r\n              </div>\r\n\r\n\r\n\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"title\">標題</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                    placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n                </div>\r\n                <div class=\"row mt-3\">\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"category\">分類</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                      placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">單位</label>\r\n                    <input type=\"unit\" class=\"form-control\" id=\"unit\"\r\n                      placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"row mt-3 mb-4\">\r\n                  <div class=\"form-group col-md-6\">\r\n                  <label for=\"origin_price\">原價</label>\r\n                    <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                      placeholder=\"請輸入原價\" v-model.number=\"tempProduct.origin_price\">\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">售價</label>\r\n                    <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                      placeholder=\"請輸入售價\" v-model.number=\"tempProduct.price\">\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"form-group\">\r\n                  <label for=\"description\">產品描述</label>\r\n                  <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                    placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\"></textarea>\r\n                </div>\r\n                <div class=\"form-group mt-3\">\r\n                  <label for=\"content\">說明內容</label>\r\n                  <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                    placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\"></textarea>\r\n                </div>\r\n                <div class=\"form-group mt-3\">\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\"\r\n                      id=\"is_enabled\" v-model=\"tempProduct.is_enabled\" :true-value=\"1\"\r\n                      :false-value=\"0\">\r\n                    <label class=\"form-check-label\" for=\"is_enabled\">\r\n                      是否啟用\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-outline-dark btn-hover rounded-0\" data-bs-dismiss=\"modal\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-dark btn-hover rounded-0\" @click=\"updateProduct\">確認</button>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n    <!-- DelModal -->\r\n    <div class=\"modal fade\" id=\"delProductModal\" tabindex=\"-1\" role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"delModal\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n\r\n\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>刪除產品</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n\r\n\r\n          <div class=\"modal-body\">\r\n            是否刪除 <strong class=\"text-strong\">{{ tempProduct.title }}</strong> 商品(刪除後將無法恢復)。\r\n          </div>\r\n\r\n\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-outline-dark btn-hover rounded-0\" data-bs-dismiss=\"modal\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-dark btn-hover rounded-0\" @click=\"delProdict\">確認刪除</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport Modal from 'bootstrap/js/dist/modal.js'\r\n\r\nexport default {\r\n  components: {\r\n    Pagination\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      tempProduct: {},\r\n      pagination: {},\r\n      isNew: false,\r\n      isLoading: false,\r\n      status: {\r\n        fileUploading: false\r\n      },\r\n      productModal: '',\r\n      delModal: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        if (response.data.success) {\r\n          this.products = response.data.products\r\n          this.pagination = response.data.pagination\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    // 商品建立/修改產品\r\n    updateProduct () {\r\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\r\n        if (response.data.success) {\r\n          this.emitter.emit('message:push', { message: response.data.message, status: 'success' })\r\n          this.productModal.hide()\r\n          this.getProducts(this.pagination.current_page)\r\n        } else {\r\n          this.emitter.emit('message:push', { message: response.data.message, status: 'danger' })\r\n        }\r\n      })\r\n    },\r\n    uploadFile () {\r\n      const uploadedFile = this.$refs.files.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadedFile)\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.status.fileUploading = true\r\n      this.$http.post(api, formData).then((response) => {\r\n        if (response.data.success) {\r\n          this.status.fileUploading = false\r\n          this.tempProduct.imageUrl = response.data.imageUrl\r\n        } else {\r\n          this.emitter.emit('message:push', { message: response.data.message, status: 'danger' })\r\n        }\r\n      })\r\n    },\r\n    // 刪除產品\r\n    delProdict () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.$http.delete(api).then((response) => {\r\n        if (response.data.success) {\r\n          this.emitter.emit('message:push', { message: response.data.message, status: 'danger' })\r\n          this.delModal.hide()\r\n          this.getProducts()\r\n        }\r\n      })\r\n      this.tempProduct = {}\r\n    },\r\n    // 開啟建立/修改產品的小視窗\r\n    openModal (isNew, item) {\r\n      if (isNew) {\r\n        this.isNew = true\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.isNew = false\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.productModal.show()\r\n    },\r\n    // 開啟刪除產品小視窗\r\n    openDelModal (item) {\r\n      this.tempProduct = item\r\n      this.delModal.show()\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  },\r\n  mounted () {\r\n    this.productModal = new Modal(this.$refs.productModal)\r\n    this.delModal = new Modal(this.$refs.delModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Product.vue?vue&type=template&id=4647f346\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\all-demo\\\\ifood要上傳版本\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","id","tabindex","role","ref","type","for","_createElementBlock","_hoisted_1","_createVNode","_component_Loading","active","$data","isLoading","$event","_hoisted_2","onClick","_cache","$options","openModal","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","products","item","key","_hoisted_6","_toDisplayString","category","_hoisted_7","title","_hoisted_8","_ctx","$filters","currency","origin_price","_hoisted_9","price","_hoisted_10","is_enabled","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","openDelModal","_hoisted_15","_component_Pagination","pages","pagination","onEmitPages","getProducts","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","placeholder","tempProduct","imageUrl","_hoisted_25","_hoisted_26","status","fileUploading","_hoisted_27","onChange","args","uploadFile","alt","src","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","unit","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","description","_hoisted_45","_hoisted_46","content","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","updateProduct","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","delProdict","components","Pagination","data","isNew","productModal","delModal","methods","page","api","this","$http","get","then","response","success","httpMethod","emitter","emit","message","hide","current_page","uploadedFile","$refs","files","formData","FormData","append","post","delete","show","created","mounted","Modal","__exports__","render"],"sourceRoot":""}