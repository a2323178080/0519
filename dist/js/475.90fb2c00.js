"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[475],{9169:function(t,a,e){e.d(a,{Z:function(){return u}});var s=e(6252);const l={class:"footer bg-dark mt-3 py-4 mt-md-5"},r=(0,s.uE)('<div class="container"><div class="row"><div class="col-12"><ul class="list-unstyled"><li class="text-center text-white">© 2022 TiffanyKao* All Rights Reserved</li><li class="text-center text-white">嶢嶢食行</li><li class="text-center text-white"><a href=""><i class="fab fa-facebook text-white me-2"></i><i class="fab fa-instagram text-white me-2"></i><i class="fab fa-github text-white"></i></a></li></ul></div></div></div>',1),d=[r];function n(t,a){return(0,s.wg)(),(0,s.iD)("footer",l,d)}var i=e(3744);const o={},c=(0,i.Z)(o,[["render",n]]);var u=c},5964:function(t,a,e){e.d(a,{Z:function(){return O}});var s=e(6252),l=e(3577),r=e(9963),d=e(1688);const n=t=>((0,s.dD)("data-v-1f6786a2"),t=t(),(0,s.Cn)(),t),i={class:"nav"},o={class:"navbar navbar-expand-lg navbar-light bg-light text-dark fixed-top"},c={class:"container-fluid"},u=n((()=>(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1))),h=n((()=>(0,s._)("img",{src:d,alt:"i-Bike"},null,-1))),f={class:"d-flex d-md-block pt-1 me-2 order-lg-last"},b=n((()=>(0,s._)("a",{class:"navbar-brand text-dark a-hover",href:"#/login"},[(0,s._)("i",{class:"fas fa-user-circle"})],-1))),g={class:"navbar-brand text-dark me-0 a-hover cart",href:"#","data-bs-toggle":"dropdown"},p=n((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),_={key:0,class:"badge text-light bg-danger"},v={class:"dropdown-menu dropdown-menu-end cart-box p-3 me-3"},w={key:0,class:"fw-bold"},m={class:"table-responsive"},k={class:"table table-sm"},x=n((()=>(0,s._)("thead",{class:"table-dark"},[(0,s._)("tr",{class:"text-center"},[(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"價格"),(0,s._)("th")])],-1))),y={class:"text-center"},C={class:"text-end"},D={class:"text-center"},$=["onClick"],z=n((()=>(0,s._)("i",{class:"fas fa-trash-alt text-danger"},null,-1))),L=[z],q={key:1,class:"fw-bold text-center mb-3"},T={class:"d-flex justify-content-end"},P=n((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),I=n((()=>(0,s._)("i",{class:"fas fa-shopping-basket"},null,-1))),Z=(0,s.uE)('<div class="collapse navbar-collapse" id="navbarToggler" data-v-1f6786a2><ul class="navbar-nav" data-v-1f6786a2><li class="nav-item pt-1" data-v-1f6786a2><a href="#/products/all" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>產品</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/checkOrder" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>訂單查詢</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/followPage" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>我的收藏</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/about" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>關於我們</a></li></ul></div>',1);function j(t,a,e,d,n,z){const j=(0,s.up)("Loading"),N=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(j,{active:n.isLoading},null,8,["active"]),(0,s._)("nav",o,[(0,s._)("div",c,[u,(0,s.Wm)(N,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s._)("div",f,[b,(0,s._)("a",g,[p,n.carts.length>0?((0,s.wg)(),(0,s.iD)("span",_,(0,l.zw)(n.carts.length),1)):(0,s.kq)("",!0)]),(0,s._)("div",v,[n.carts.length>0?((0,s.wg)(),(0,s.iD)("h5",w,"已選購商品")):(0,s.kq)("",!0),(0,s._)("div",m,[(0,s._)("table",k,[x,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.carts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,l.zw)(t.product.title),1),(0,s._)("td",y,(0,l.zw)(t.qty),1),(0,s._)("td",C,"NT$ "+(0,l.zw)(t.total),1),(0,s._)("td",D,[(0,s._)("a",{href:"#",onClick:(0,r.iM)((a=>z.delCart(t.id)),["prevent"])},L,8,$)])])))),128))])])]),0==n.carts.length?((0,s.wg)(),(0,s.iD)("h5",q,"產品尚未加入購物車!")):(0,s.kq)("",!0),(0,s._)("div",T,[n.carts.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[0]||(a[0]=(...t)=>z.goCart&&z.goCart(...t))},[P,(0,s.Uk)(" 結帳去 ")])):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[1]||(a[1]=(...t)=>z.goProducts&&z.goProducts(...t))},[I,(0,s.Uk)(" 選購去 ")]))])])]),Z])])])}e(7658);var N={name:"Navber",data(){return{isLoading:!1,carts:[]}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/ifood/cart";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.carts=t.data.data.carts,this.isLoading=!1)}))},delCart(t){const a=`https://vue3-course-api.hexschool.io/api/ifood/cart/${t}`;this.isLoading=!0,this.$http.delete(a).then((t=>{t.data.success&&(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.getCart(),this.isLoading=!1)}))},goCart(){this.$router.push("/cart")},goProducts(){this.$router.push("/products/all")}},created(){this.getCart()}},W=e(3744);const E=(0,W.Z)(N,[["render",j],["__scopeId","data-v-1f6786a2"]]);var O=E},9475:function(t,a,e){e.r(a),e.d(a,{default:function(){return tt}});var s=e(6252),l=e(3577);const r=t=>((0,s.dD)("data-v-2e094f6f"),t=t(),(0,s.Cn)(),t),d={class:"checkoutPay"},n={class:"container"},i={class:"d-flex justify-content-center align-items-center mb-5"},o=r((()=>(0,s._)("h5",{class:"fw-bold mb-0 text-black-50"},"填寫資料",-1))),c=r((()=>(0,s._)("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1))),u=r((()=>(0,s._)("i",{class:"fas fa-arrow-right fs-5 mx-2"},null,-1))),h={class:"row d-flex justify-content-center"},f={class:"col-md-8"},b={key:0,class:"d-flex align-items-center"},g=r((()=>(0,s._)("i",{class:"fas fa-truck fs-3 me-3"},null,-1))),p=r((()=>(0,s._)("h2",{class:"fw-bold mb-0"},"感謝您的購買 !",-1))),_=[g,p],v={key:1,class:"fw-bold mt-4 mb-5"},w=r((()=>(0,s._)("h2",{class:"fs-3 text-center fw-bold"},"商品明細",-1))),m={class:"table-responsive-md mt-4"},k={class:"table lh-lg"},x=r((()=>(0,s._)("thead",{class:"table-dark text-center"},[(0,s._)("tr",{class:"table-nowrap"},[(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"數量"),(0,s._)("th",{width:"200",class:"text-end"},"價格")])],-1))),y={class:"text-center"},C={class:"text-end"},D={class:"text-center"},$=r((()=>(0,s._)("td",{colspan:"2",class:"text-end"},"總價 :",-1))),z={class:"text-end"},L=r((()=>(0,s._)("h2",{class:"fs-3 text-center fw-bold mt-5"},"寄送明細",-1))),q={class:"table-responsive-md"},T={class:"table lh-lg"},P={class:"table-nowrap"},I=r((()=>(0,s._)("th",{width:"100",class:"fw-bold text-end"},"訂單編號 :",-1))),Z={class:"table-nowrap"},j=r((()=>(0,s._)("th",{width:"100",class:"fw-bold text-end"},"訂購日期 :",-1))),N={class:"table-nowrap"},W=r((()=>(0,s._)("th",{width:"100",class:"fw-bold text-end"},"Email :",-1))),E={class:"table-nowrap"},O=r((()=>(0,s._)("td",{width:"100",class:"fw-bold text-end"},"姓名 :",-1))),H={class:"table-nowrap"},K=r((()=>(0,s._)("td",{width:"100",class:"fw-bold text-end"},"收件人電話 :",-1))),U={class:"table-nowrap"},Y=r((()=>(0,s._)("td",{width:"100",class:"fw-bold text-end"},"收件人地址 :",-1))),F={class:"table-nowrap"},R=r((()=>(0,s._)("td",{width:"100",class:"fw-bold text-end"},"付款狀態 :",-1))),A={key:0},B={key:1,class:"text-strong"},M={class:"d-flex justify-content-center mt-3 mt-md-5"};function G(t,a,e,r,g,p){const G=(0,s.up)("Navber"),J=(0,s.up)("Loading"),Q=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(G),(0,s._)("div",d,[(0,s.Wm)(J,{active:g.isLoading,"onUpdate:active":a[0]||(a[0]=t=>g.isLoading=t)},null,8,["active"]),(0,s._)("div",n,[(0,s._)("div",i,[o,c,(0,s._)("h5",{class:(0,l.C_)(["fw-bold mb-0 text-black-50",{active:!g.order.is_paid}])},"確認付款",2),u,(0,s._)("h5",{class:(0,l.C_)(["text-black-50 fw-bold mb-0",{active:g.order.is_paid}])},"訂單完成",2)]),(0,s._)("div",h,[(0,s._)("div",f,[g.order.is_paid?((0,s.wg)(),(0,s.iD)("div",b,_)):(0,s.kq)("",!0),g.order.is_paid?((0,s.wg)(),(0,s.iD)("h6",v,"親愛的顧客您好，您已付款成功，商品將於 20 日內送達 !")):(0,s.kq)("",!0),w,(0,s._)("div",m,[(0,s._)("table",k,[x,(0,s._)("tbody",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.order.products,(a=>((0,s.wg)(),(0,s.iD)("tr",{class:"table-nowrap",key:a.id},[(0,s._)("td",null,(0,l.zw)(a.product.title),1),(0,s._)("td",null,(0,l.zw)(a.qty),1),(0,s._)("td",C,"NT$ "+(0,l.zw)(t.$filters.currency(a.final_total))+" 元",1)])))),128))]),(0,s._)("tfoot",D,[(0,s._)("tr",null,[$,(0,s._)("td",z,"NT$ "+(0,l.zw)(t.$filters.currency(g.order.total))+" 元",1)])])])]),L,(0,s._)("div",q,[(0,s._)("table",T,[(0,s._)("tbody",null,[(0,s._)("tr",P,[I,(0,s._)("td",null,(0,l.zw)(g.order.id),1)]),(0,s._)("tr",Z,[j,(0,s._)("td",null,(0,l.zw)(t.$filters.date(g.order.create_at)),1)]),(0,s._)("tr",N,[W,(0,s._)("td",null,(0,l.zw)(g.order.user.email),1)]),(0,s._)("tr",E,[O,(0,s._)("td",null,(0,l.zw)(g.order.user.name),1)]),(0,s._)("tr",H,[K,(0,s._)("td",null,(0,l.zw)(g.order.user.tel),1)]),(0,s._)("tr",U,[Y,(0,s._)("td",null,(0,l.zw)(g.order.user.address),1)]),(0,s._)("tr",F,[R,(0,s._)("td",null,[g.order.is_paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",A,"尚未付款")),g.order.is_paid?((0,s.wg)(),(0,s.iD)("span",B,"付款完成")):(0,s.kq)("",!0)])])])])]),(0,s._)("div",M,[g.order.is_paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[1]||(a[1]=t=>p.pay())},"確認付款")),g.order.is_paid?((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[2]||(a[2]=t=>p.goProducts())},"繼續逛逛")):(0,s.kq)("",!0)])])])])]),(0,s.Wm)(Q)],64)}e(7658);var J=e(5964),Q=e(9169),S={name:"CheckoutPay",components:{Navber:J.Z,Footer:Q.Z},data(){return{isLoading:!1,orderId:"",order:{user:{}}}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/ifood/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,this.isLoading=!1)}))},pay(){const t=`https://vue3-course-api.hexschool.io/api/ifood/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{t.data.success&&(this.emitter.emit("message:push",{message:t.data.message,status:"success"}),this.getOrder(),document.documentElement.scrollTop=0)}))},goProducts(){this.$router.push("/products/all")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},V=e(3744);const X=(0,V.Z)(S,[["render",G],["__scopeId","data-v-2e094f6f"]]);var tt=X},1688:function(t,a,e){t.exports=e.p+"img/logo.ae226ac8.png"}}]);
//# sourceMappingURL=475.90fb2c00.js.map