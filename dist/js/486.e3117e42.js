"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[486],{9169:function(a,t,e){e.d(t,{Z:function(){return u}});var s=e(6252);const l={class:"footer bg-dark mt-3 py-4 mt-md-5"},r=(0,s.uE)('<div class="container"><div class="row"><div class="col-12"><ul class="list-unstyled"><li class="text-center text-white">© 2022 TiffanyKao* All Rights Reserved</li><li class="text-center text-white">嶢嶢食行</li><li class="text-center text-white"><a href=""><i class="fab fa-facebook text-white me-2"></i><i class="fab fa-instagram text-white me-2"></i><i class="fab fa-github text-white"></i></a></li></ul></div></div></div>',1),o=[r];function n(a,t){return(0,s.wg)(),(0,s.iD)("footer",l,o)}var i=e(3744);const c={},d=(0,i.Z)(c,[["render",n]]);var u=d},5964:function(a,t,e){e.d(t,{Z:function(){return P}});var s=e(6252),l=e(3577),r=e(9963),o=e(1688);const n=a=>((0,s.dD)("data-v-1f6786a2"),a=a(),(0,s.Cn)(),a),i={class:"nav"},c={class:"navbar navbar-expand-lg navbar-light bg-light text-dark fixed-top"},d={class:"container-fluid"},u=n((()=>(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1))),m=n((()=>(0,s._)("img",{src:o,alt:"i-Bike"},null,-1))),f={class:"d-flex d-md-block pt-1 me-2 order-lg-last"},h=n((()=>(0,s._)("a",{class:"navbar-brand text-dark a-hover",href:"#/login"},[(0,s._)("i",{class:"fas fa-user-circle"})],-1))),b={class:"navbar-brand text-dark me-0 a-hover cart",href:"#","data-bs-toggle":"dropdown"},v=n((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),g={key:0,class:"badge text-light bg-danger"},p={class:"dropdown-menu dropdown-menu-end cart-box p-3 me-3"},_={key:0,class:"fw-bold"},k={class:"table-responsive"},w={class:"table table-sm"},x=n((()=>(0,s._)("thead",{class:"table-dark"},[(0,s._)("tr",{class:"text-center"},[(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"價格"),(0,s._)("th")])],-1))),y={class:"text-center"},C={class:"text-end"},$={class:"text-center"},D=["onClick"],W=n((()=>(0,s._)("i",{class:"fas fa-trash-alt text-danger"},null,-1))),L=[W],V={key:1,class:"fw-bold text-center mb-3"},q={class:"d-flex justify-content-end"},U=n((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),z=n((()=>(0,s._)("i",{class:"fas fa-shopping-basket"},null,-1))),T=(0,s.uE)('<div class="collapse navbar-collapse" id="navbarToggler" data-v-1f6786a2><ul class="navbar-nav" data-v-1f6786a2><li class="nav-item pt-1" data-v-1f6786a2><a href="#/products/all" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>產品</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/checkOrder" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>訂單查詢</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/followPage" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>我的收藏</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/about" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>關於我們</a></li></ul></div>',1);function E(a,t,e,o,n,W){const E=(0,s.up)("Loading"),N=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(E,{active:n.isLoading},null,8,["active"]),(0,s._)("nav",c,[(0,s._)("div",d,[u,(0,s.Wm)(N,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[m])),_:1}),(0,s._)("div",f,[h,(0,s._)("a",b,[v,n.carts.length>0?((0,s.wg)(),(0,s.iD)("span",g,(0,l.zw)(n.carts.length),1)):(0,s.kq)("",!0)]),(0,s._)("div",p,[n.carts.length>0?((0,s.wg)(),(0,s.iD)("h5",_,"已選購商品")):(0,s.kq)("",!0),(0,s._)("div",k,[(0,s._)("table",w,[x,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.carts,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,l.zw)(a.product.title),1),(0,s._)("td",y,(0,l.zw)(a.qty),1),(0,s._)("td",C,"NT$ "+(0,l.zw)(a.total),1),(0,s._)("td",$,[(0,s._)("a",{href:"#",onClick:(0,r.iM)((t=>W.delCart(a.id)),["prevent"])},L,8,D)])])))),128))])])]),0==n.carts.length?((0,s.wg)(),(0,s.iD)("h5",V,"產品尚未加入購物車!")):(0,s.kq)("",!0),(0,s._)("div",q,[n.carts.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:t[0]||(t[0]=(...a)=>W.goCart&&W.goCart(...a))},[U,(0,s.Uk)(" 結帳去 ")])):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:t[1]||(t[1]=(...a)=>W.goProducts&&W.goProducts(...a))},[z,(0,s.Uk)(" 選購去 ")]))])])]),T])])])}e(7658);var N={name:"Navber",data(){return{isLoading:!1,carts:[]}},methods:{getCart(){const a="https://vue3-course-api.hexschool.io/api/ifood/cart";this.isLoading=!0,this.$http.get(a).then((a=>{a.data.success&&(this.carts=a.data.data.carts,this.isLoading=!1)}))},delCart(a){const t=`https://vue3-course-api.hexschool.io/api/ifood/cart/${a}`;this.isLoading=!0,this.$http.delete(t).then((a=>{a.data.success&&(this.emitter.emit("message:push",{message:a.data.message,status:"danger"}),this.getCart(),this.isLoading=!1)}))},goCart(){this.$router.push("/cart")},goProducts(){this.$router.push("/products/all")}},created(){this.getCart()}},Z=e(3744);const j=(0,Z.Z)(N,[["render",E],["__scopeId","data-v-1f6786a2"]]);var P=j},7486:function(a,t,e){e.r(t),e.d(t,{default:function(){return A}});var s=e(6252),l=e(3577),r=e(9963);const o=a=>((0,s.dD)("data-v-6207cb88"),a=a(),(0,s.Cn)(),a),n={class:"checkout"},i={class:"container"},c=(0,s.uE)('<div class="d-flex justify-content-center align-items-center mb-5" data-v-6207cb88><h5 class="fw-bold mb-0 active" data-v-6207cb88>填寫資料</h5><i class="fas fa-arrow-right fs-5 mx-2" data-v-6207cb88></i><h5 class="text-black-50 fw-bold mb-0" data-v-6207cb88>確認付款</h5><i class="fas fa-arrow-right fs-5 mx-2" data-v-6207cb88></i><h5 class="text-black-50 fw-bold mb-0" data-v-6207cb88>訂單完成</h5></div>',1),d={class:"row"},u={class:"col-md-7"},m=o((()=>(0,s._)("h1",{class:"fs-3 text-center fw-bold"},"寄送資訊",-1))),f={class:"d-flex justify-content-center"},h={class:"mb-3"},b=o((()=>(0,s._)("label",{for:"email",class:"form-label"},[(0,s.Uk)("Email "),(0,s._)("small",null,"(必填)")],-1))),v={class:"mb-3"},g=o((()=>(0,s._)("label",{for:"name",class:"form-label"},[(0,s.Uk)("收件人姓名 "),(0,s._)("small",null,"(必填)")],-1))),p={class:"mb-3"},_=o((()=>(0,s._)("label",{for:"tel",class:"form-label"},[(0,s.Uk)("收件人電話 "),(0,s._)("small",null,"(必填)")],-1))),k={class:"mb-3"},w=o((()=>(0,s._)("label",{for:"address",class:"form-label"},[(0,s.Uk)("收件人地址 "),(0,s._)("small",null,"(必填)")],-1))),x={class:"mb-3"},y=o((()=>(0,s._)("label",{for:"message",class:"form-label"},"留言",-1))),C={class:"d-flex justify-content-between"},$=o((()=>(0,s._)("button",{type:"submit",class:"btn btn-dark btn-hover rounded-0"},"下一步 付款去",-1))),D={class:"col-md-5 mt-5 mt-md-0"},W=o((()=>(0,s._)("h2",{class:"fs-3 text-center fw-bold"},"商品明細",-1))),L={class:"table-responsive-md mt-4"},V={class:"table lh-lg"},q=o((()=>(0,s._)("thead",{class:"table-dark text-center"},[(0,s._)("tr",{class:"table-nowrap"},[(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"價格")])],-1))),U={class:"text-center"},z={class:"text-end"},T=o((()=>(0,s._)("br",null,null,-1))),E={key:0,class:"text-strong"},N={class:"text-center"},Z={key:0},j=o((()=>(0,s._)("td",{colspan:"2",class:"text-end"},"總價 :",-1))),P={class:"text-end"},F={key:1},H=o((()=>(0,s._)("td",{colspan:"2",class:"text-end text-strong"},"折扣價 :",-1))),I={class:"text-end text-strong"};function K(a,t,e,o,K,M){const O=(0,s.up)("Navber"),Y=(0,s.up)("Loading"),R=(0,s.up)("Field"),S=(0,s.up)("ErrorMessage"),A=(0,s.up)("Form"),B=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(O),(0,s._)("div",n,[(0,s.Wm)(Y,{active:K.isLoading,"onUpdate:active":t[0]||(t[0]=a=>K.isLoading=a)},null,8,["active"]),(0,s._)("div",i,[c,(0,s._)("div",d,[(0,s._)("div",u,[m,(0,s._)("div",f,[(0,s.Wm)(A,{class:"col-11",onSubmit:M.createOrder},{default:(0,s.w5)((({errors:a})=>[(0,s._)("div",h,[b,(0,s.Wm)(R,{id:"email",name:"Email",type:"email",class:(0,l.C_)(["form-control",{"is-invalid":a["Email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:K.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=a=>K.form.user.email=a)},null,8,["class","modelValue"]),(0,s.Wm)(S,{name:"Email",class:"invalid-feedback"})]),(0,s._)("div",v,[g,(0,s.Wm)(R,{id:"name",name:"姓名",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:K.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=a=>K.form.user.name=a)},null,8,["class","modelValue"]),(0,s.Wm)(S,{name:"姓名",class:"invalid-feedback"})]),(0,s._)("div",p,[_,(0,s.Wm)(R,{id:"tel",name:"電話",type:"tel",class:(0,l.C_)(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:K.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=a=>K.form.user.tel=a)},null,8,["class","modelValue"]),(0,s.Wm)(S,{name:"電話",class:"invalid-feedback"})]),(0,s._)("div",k,[w,(0,s.Wm)(R,{id:"address",name:"地址",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:K.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=a=>K.form.user.address=a)},null,8,["class","modelValue"]),(0,s.Wm)(S,{name:"地址",class:"invalid-feedback"})]),(0,s._)("div",x,[y,(0,s.wy)((0,s._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=a=>K.form.message=a)},null,512),[[r.nr,K.form.message]])]),(0,s._)("div",C,[(0,s._)("button",{type:"button",class:"btn btn-outline-dark btn-hover rounded-0",onClick:t[6]||(t[6]=(0,r.iM)(((...a)=>M.goCart&&M.goCart(...a)),["prevent"]))},"回購物清單"),$])])),_:1},8,["onSubmit"])])]),(0,s._)("div",D,[W,(0,s._)("div",L,[(0,s._)("table",V,[q,(0,s._)("tbody",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(K.carts,(t=>((0,s.wg)(),(0,s.iD)("tr",{class:"table-nowrap",key:t.id},[(0,s._)("td",null,(0,l.zw)(t.product.title),1),(0,s._)("td",null,(0,l.zw)(t.qty),1),(0,s._)("td",z,[(0,s._)("span",{class:(0,l.C_)({"text-decoration-line-through":t.final_total!==t.total})},"NT$ "+(0,l.zw)(a.$filters.currency(t.total))+" 元",3),T,t.final_total!==t.total?((0,s.wg)(),(0,s.iD)("span",E,"NT$ "+(0,l.zw)(a.$filters.currency(t.final_total))+" 元",1)):(0,s.kq)("",!0)])])))),128))]),(0,s._)("tfoot",N,[0!==K.carts.length?((0,s.wg)(),(0,s.iD)("tr",Z,[j,(0,s._)("td",P,"NT$ "+(0,l.zw)(a.$filters.currency(K.total))+" 元",1)])):(0,s.kq)("",!0),K.final_total!==K.total?((0,s.wg)(),(0,s.iD)("tr",F,[H,(0,s._)("td",I,"NT$ "+(0,l.zw)(a.$filters.currency(K.final_total))+" 元",1)])):(0,s.kq)("",!0)])])])])])])]),(0,s.Wm)(B)],64)}e(7658);var M=e(5964),O=e(9169),Y={name:"Checkout",components:{Navber:M.Z,Footer:O.Z},data(){return{isLoading:!1,carts:[],total:0,final_total:0,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){const a="https://vue3-course-api.hexschool.io/api/ifood/cart";this.isLoading=!0,this.$http.get(a).then((a=>{a.data.success&&(this.carts=a.data.data.carts,this.total=a.data.data.total,this.final_total=a.data.data.final_total,this.isLoading=!1)}))},createOrder(){const a="https://vue3-course-api.hexschool.io/api/ifood/order",t=this.form;this.$http.post(a,{data:t}).then((a=>{a.data.success&&(this.emitter.emit("message:push",{message:a.data.message,status:"success"}),this.$router.push(`/checkoutPay/${a.data.orderId}`))}))},goCart(){this.$router.push("/cart")}},created(){this.getCart()}},R=e(3744);const S=(0,R.Z)(Y,[["render",K],["__scopeId","data-v-6207cb88"]]);var A=S},1688:function(a,t,e){a.exports=e.p+"img/logo.ae226ac8.png"}}]);
//# sourceMappingURL=486.e3117e42.js.map