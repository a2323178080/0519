"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[616],{9169:function(t,a,e){e.d(a,{Z:function(){return u}});var s=e(6252);const n={class:"footer bg-dark mt-3 py-4 mt-md-5"},o=(0,s.uE)('<div class="container"><div class="row"><div class="col-12"><ul class="list-unstyled"><li class="text-center text-white">© 2022 TiffanyKao* All Rights Reserved</li><li class="text-center text-white">嶢嶢食行</li><li class="text-center text-white"><a href=""><i class="fab fa-facebook text-white me-2"></i><i class="fab fa-instagram text-white me-2"></i><i class="fab fa-github text-white"></i></a></li></ul></div></div></div>',1),l=[o];function i(t,a){return(0,s.wg)(),(0,s.iD)("footer",n,l)}var r=e(3744);const d={},c=(0,r.Z)(d,[["render",i]]);var u=c},5964:function(t,a,e){e.d(a,{Z:function(){return K}});var s=e(6252),n=e(3577),o=e(9963),l=e(1688);const i=t=>((0,s.dD)("data-v-1f6786a2"),t=t(),(0,s.Cn)(),t),r={class:"nav"},d={class:"navbar navbar-expand-lg navbar-light bg-light text-dark fixed-top"},c={class:"container-fluid"},u=i((()=>(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1))),h=i((()=>(0,s._)("img",{src:l,alt:"i-Bike"},null,-1))),g={class:"d-flex d-md-block pt-1 me-2 order-lg-last"},p=i((()=>(0,s._)("a",{class:"navbar-brand text-dark a-hover",href:"#/login"},[(0,s._)("i",{class:"fas fa-user-circle"})],-1))),b={class:"navbar-brand text-dark me-0 a-hover cart",href:"#","data-bs-toggle":"dropdown"},f=i((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),v={key:0,class:"badge text-light bg-danger"},_={class:"dropdown-menu dropdown-menu-end cart-box p-3 me-3"},m={key:0,class:"fw-bold"},k={class:"table-responsive"},w={class:"table table-sm"},x=i((()=>(0,s._)("thead",{class:"table-dark"},[(0,s._)("tr",{class:"text-center"},[(0,s._)("th",null,"商品名稱"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"價格"),(0,s._)("th")])],-1))),C={class:"text-center"},y={class:"text-end"},L={class:"text-center"},$=["onClick"],D=i((()=>(0,s._)("i",{class:"fas fa-trash-alt text-danger"},null,-1))),q=[D],T={key:1,class:"fw-bold text-center mb-3"},z={class:"d-flex justify-content-end"},P=i((()=>(0,s._)("i",{class:"fas fa-shopping-cart"},null,-1))),N=i((()=>(0,s._)("i",{class:"fas fa-shopping-basket"},null,-1))),U=(0,s.uE)('<div class="collapse navbar-collapse" id="navbarToggler" data-v-1f6786a2><ul class="navbar-nav" data-v-1f6786a2><li class="nav-item pt-1" data-v-1f6786a2><a href="#/products/all" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>產品</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/checkOrder" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>訂單查詢</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/followPage" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>我的收藏</a></li><li class="nav-item pt-1" data-v-1f6786a2><a href="#/about" class="nav-link text-dark a-hover fw-bold" data-v-1f6786a2>關於我們</a></li></ul></div>',1);function Z(t,a,e,l,i,D){const Z=(0,s.up)("Loading"),j=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(Z,{active:i.isLoading},null,8,["active"]),(0,s._)("nav",d,[(0,s._)("div",c,[u,(0,s.Wm)(j,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s._)("div",g,[p,(0,s._)("a",b,[f,i.carts.length>0?((0,s.wg)(),(0,s.iD)("span",v,(0,n.zw)(i.carts.length),1)):(0,s.kq)("",!0)]),(0,s._)("div",_,[i.carts.length>0?((0,s.wg)(),(0,s.iD)("h5",m,"已選購商品")):(0,s.kq)("",!0),(0,s._)("div",k,[(0,s._)("table",w,[x,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.carts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,n.zw)(t.product.title),1),(0,s._)("td",C,(0,n.zw)(t.qty),1),(0,s._)("td",y,"NT$ "+(0,n.zw)(t.total),1),(0,s._)("td",L,[(0,s._)("a",{href:"#",onClick:(0,o.iM)((a=>D.delCart(t.id)),["prevent"])},q,8,$)])])))),128))])])]),0==i.carts.length?((0,s.wg)(),(0,s.iD)("h5",T,"產品尚未加入購物車!")):(0,s.kq)("",!0),(0,s._)("div",z,[i.carts.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[0]||(a[0]=(...t)=>D.goCart&&D.goCart(...t))},[P,(0,s.Uk)(" 結帳去 ")])):((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[1]||(a[1]=(...t)=>D.goProducts&&D.goProducts(...t))},[N,(0,s.Uk)(" 選購去 ")]))])])]),U])])])}e(7658);var j={name:"Navber",data(){return{isLoading:!1,carts:[]}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/ifood/cart";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.carts=t.data.data.carts,this.isLoading=!1)}))},delCart(t){const a=`https://vue3-course-api.hexschool.io/api/ifood/cart/${t}`;this.isLoading=!0,this.$http.delete(a).then((t=>{t.data.success&&(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.getCart(),this.isLoading=!1)}))},goCart(){this.$router.push("/cart")},goProducts(){this.$router.push("/products/all")}},created(){this.getCart()}},W=e(3744);const H=(0,W.Z)(j,[["render",Z],["__scopeId","data-v-1f6786a2"]]);var K=H},8616:function(t,a,e){e.r(a),e.d(a,{default:function(){return B}});var s=e(6252),n=e(9963),o=e(3577);const l=t=>((0,s.dD)("data-v-6dd8f348"),t=t(),(0,s.Cn)(),t),i={class:"cart"},r={class:"container"},d=l((()=>(0,s._)("div",{class:"d-flex justify-content-center"},[(0,s._)("h1",{class:"fs-2 fw-bold"},"購物車清單")],-1))),c={class:"table-responsive-md mt-4"},u={class:"table lh-lg"},h=l((()=>(0,s._)("thead",{class:"table-dark text-center"},[(0,s._)("tr",{class:"table-nowrap"},[(0,s._)("th",{width:"100"}),(0,s._)("th",null,"商品名稱"),(0,s._)("th",{width:"200",class:"text-end"},"單價"),(0,s._)("th",{width:"250"},"數量"),(0,s._)("th",{width:"200",class:"text-end"},"價格")])],-1))),g={class:"text-center"},p=["onClick"],b=l((()=>(0,s._)("i",{class:"fas fa-trash-alt text-danger a-hover"},null,-1))),f=[b],v={class:"text-end"},_={class:"d-flex justify-content-center"},m={class:"input-group",style:{width:"110px"}},k=["onClick"],w=l((()=>(0,s._)("i",{class:"fas fa-minus"},null,-1))),x=[w],C=["onUpdate:modelValue"],y=["onClick"],L=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),$=[L],D={class:"text-end"},q=l((()=>(0,s._)("br",null,null,-1))),T={key:0,class:"text-strong"},z={class:"text-center"},P={key:0},N=l((()=>(0,s._)("td",{colspan:"4",class:"text-end"},"總價 :",-1))),U={class:"text-end"},Z={key:1},j=l((()=>(0,s._)("td",{colspan:"4",class:"text-end text-strong"},"折扣價 :",-1))),W={class:"text-strong text-end"},H={key:0,class:"input-group mb-3 input-group-sm"},K={key:1,class:"d-flex justify-content-between mt-5"},V={key:2,class:"text-center pt-4"},Y=l((()=>(0,s._)("h3",{class:"fw-bold"},"購物車還沒有任何商品，趕快挑選產品加入購物車 !",-1)));function E(t,a,e,l,b,w){const L=(0,s.up)("Navber"),E=(0,s.up)("Loading"),F=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(L),(0,s._)("div",i,[(0,s.Wm)(E,{active:b.isLoading,"onUpdate:active":a[0]||(a[0]=t=>b.isLoading=t)},null,8,["active"]),(0,s._)("div",r,[d,(0,s._)("div",c,[(0,s._)("table",u,[h,(0,s._)("tbody",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.carts,(a=>((0,s.wg)(),(0,s.iD)("tr",{class:"table-nowrap",key:a.id},[(0,s._)("td",null,[(0,s._)("a",{href:"#",onClick:(0,n.iM)((t=>w.delCart(a.id)),["prevent"])},f,8,p)]),(0,s._)("td",null,(0,o.zw)(a.product.title),1),(0,s._)("td",v,"NT$ "+(0,o.zw)(t.$filters.currency(a.product.price))+" 元",1),(0,s._)("td",null,[(0,s._)("div",_,[(0,s._)("div",m,[(0,s._)("button",{class:"btn btn-dark btn-sm btn-hover rounded-0 border-0",type:"button",onClick:t=>w.addtoCart(a.id,a.qty-1)},x,8,k),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control text-center",disabled:"","onUpdate:modelValue":t=>a.qty=t},null,8,C),[[n.nr,a.qty,void 0,{number:!0}]]),(0,s._)("button",{class:"btn btn-dark btn-sm btn-hover rounded-0 border-0",type:"button",onClick:t=>w.addtoCart(a.id,a.qty+1)},$,8,y)])])]),(0,s._)("td",D,[(0,s.Uk)("NT$ "+(0,o.zw)(t.$filters.currency(a.final_total))+" 元 ",1),q,(0,s.Uk)(),a.final_total!==a.total?((0,s.wg)(),(0,s.iD)("small",T,"( 已套用優惠碼 )")):(0,s.kq)("",!0)])])))),128))]),(0,s._)("tfoot",z,[0!==b.carts.length?((0,s.wg)(),(0,s.iD)("tr",P,[N,(0,s._)("td",U,"NT$ "+(0,o.zw)(t.$filters.currency(b.total))+" 元",1)])):(0,s.kq)("",!0),b.final_total!==b.total?((0,s.wg)(),(0,s.iD)("tr",Z,[j,(0,s._)("td",W,"NT$ "+(0,o.zw)(t.$filters.currency(b.final_total))+" 元",1)])):(0,s.kq)("",!0)])])]),0!==b.carts.length?((0,s.wg)(),(0,s.iD)("div",H,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=t=>b.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[n.nr,b.coupon_code]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-dark btn-hover rounded-0 border-0",type:"button",onClick:a[2]||(a[2]=(...t)=>w.addCouponCode&&w.addCouponCode(...t))}," 套用優惠碼 ")])])):(0,s.kq)("",!0),0!==b.carts.length?((0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("button",{type:"button",class:"btn btn-outline-dark btn-hover rounded-0",onClick:a[3]||(a[3]=(...t)=>w.goProducts&&w.goProducts(...t))},"回商品列表"),(0,s._)("button",{type:"button",class:"btn btn-dark btn-hover rounded-0",onClick:a[4]||(a[4]=(...t)=>w.goCheckout&&w.goCheckout(...t))},"下一步 填寫資料")])):(0,s.kq)("",!0),0===b.carts.length?((0,s.wg)(),(0,s.iD)("div",V,[Y,(0,s._)("button",{type:"button",class:"btn btn-dark btn-hover rounded-0 mt-5",onClick:a[5]||(a[5]=(...t)=>w.goProducts&&w.goProducts(...t))},"查看產品 Go")])):(0,s.kq)("",!0)])]),(0,s.Wm)(F)],64)}e(7658);var F=e(5964),I=e(9169),M={name:"Cart",components:{Navber:F.Z,Footer:I.Z},data(){return{isLoading:!1,carts:[],total:0,final_total:0,coupon_code:""}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/ifood/cart";this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,this.isLoading=!1)}))},addtoCart(t,a){if(0===a)this.delCart(t);else{const e=`https://vue3-course-api.hexschool.io/api/ifood/cart/${t}`,s={product_id:t,qty:a};this.isLoading=!0,this.$http.put(e,{data:s}).then((t=>{t.data.success?(this.emitter.emit("message:push",{message:t.data.message,status:"success"}),this.emitter.emit("resetCart"),this.getCart(),this.isLoading=!1):(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.isLoading=!1)}))}},delCart(t){const a=`https://vue3-course-api.hexschool.io/api/ifood/cart/${t}`;this.isLoading=!0,this.$http.delete(a).then((t=>{t.data.success?(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.emitter.emit("resetCart"),this.getCart(),this.isLoading=!1):(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.isLoading=!1)}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/ifood/coupon",a={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:a}).then((t=>{t.data.success?(this.emitter.emit("message:push",{message:t.data.message,status:"success"}),this.getCart(),this.isLoading=!1):(this.emitter.emit("message:push",{message:t.data.message,status:"danger"}),this.isLoading=!1)}))},goProducts(){this.$router.push("/products/all")},goCheckout(){this.$router.push("/checkout")}},created(){this.getCart()}},R=e(3744);const A=(0,R.Z)(M,[["render",E],["__scopeId","data-v-6dd8f348"]]);var B=A},1688:function(t,a,e){t.exports=e.p+"img/logo.ae226ac8.png"}}]);
//# sourceMappingURL=616.df5470f0.js.map